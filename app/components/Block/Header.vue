<script setup lang="ts">
const links = [
  {label:'О нас',to:'/about'},
  {label:'Услуги',to:'/services'},
  {label:'Новости',to:'/news'},
  {label:'Наши проекты',to:'/cases'},
  {label:'Контакты',to:'/contacts'},
]
const menuActive = ref(false)
const route = useRoute()
watch(
    () => route.fullPath, // отслеживание изменения полного пути маршрута
    (newPath, oldPath) => {
      menuActive.value = false;
    },
    { immediate: true } // опция для немедленного выполнения коллбэка
);
</script>

<template>
<header class="mb-5 md:mb-[96px] sticky top-0 z-10 w-full bg-white h-[82px]">
  <div class="container ">
    <div class="flex items-center justify-between py-5">
      <nuxt-link class="flex items-end" to="/">
        <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_1_202)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M21.9143 24.3638V40H17.084V19.4907H29.0229C32.9656 19.4907 36.1703 16.2575 36.1703 12.2799V12.0858C36.1703 8.10821 32.9656 4.875 29.0229 4.875H23.0738V0H29.0229C35.6322 0 41.0007 5.41791 41.0007 12.084V12.278C41.0007 18.9459 35.6304 24.3619 29.0229 24.3619H21.9143V24.3638Z" fill="#EF7C00"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.5089 4.87313V40H7.97019V4.87313H0V0H20.5V4.87313H12.5089Z" fill="#3A3A39"/>
          </g>
          <defs>
            <clipPath id="clip0_1_202">
              <rect width="41" height="40" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <p class="leading-[100%] uppercase font-semibold">ТЕХНОРЕАЛ</p>

      </nuxt-link>
      <nav class="hidden md:flex gap-8 items-center">
        <nuxt-link v-for="link in links" :to="link.to">{{link.label}}</nuxt-link>
        <div class="flex gap-3">
          <a href="tel:+79685458877" target="_blank"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="28" height="28" rx="7" fill="#EF7C00"/>
            <path d="M18.3245 15.4422C18.0354 15.167 17.6513 15.0138 17.2522 15.0144C16.853 15.0149 16.4694 15.1692 16.181 15.4452L15.2265 16.2497C14.4473 15.9272 13.7395 15.454 13.1438 14.8571C12.548 14.2603 12.076 13.5516 11.7548 12.7718L12.5561 11.82C12.8313 11.5309 12.9851 11.1472 12.9856 10.7481C12.9862 10.3489 12.8335 9.96481 12.5591 9.675C12.5591 9.675 11.6316 8.47126 11.616 8.45573C11.3303 8.16807 10.9429 8.0044 10.5375 8.00009C10.1321 7.99578 9.74128 8.15117 9.44948 8.43268L8.87354 8.93362C5.0077 13.0463 14.9836 23.0288 19.0903 19.1025L19.547 18.5766C19.8371 18.2855 20 17.8913 20 17.4803C20 17.0693 19.8371 16.6751 19.547 16.384C19.5305 16.3705 18.3245 15.4427 18.3245 15.4427V15.4422Z" fill="white"/>
          </svg>
          </a>
          <a href="https://t.me/texnoreal_company" target="_blank"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="28" height="28" rx="7" fill="#EF7C00"/>
            <path d="M19.9058 8.07435C19.7932 8.11607 16.8888 9.25847 13.453 10.6095C9.60127 12.1241 7.17521 13.0932 7.12832 13.1381C7.0314 13.2312 6.98138 13.4173 7.00639 13.5681C7.05641 13.8281 7.07204 13.8345 8.87596 14.4602C10.2516 14.9384 10.5298 15.025 10.5861 14.9962C10.6205 14.9737 11.0206 14.7266 11.4708 14.441C11.9242 14.1586 13.628 13.0868 15.26 12.0631C18.3051 10.1538 18.327 10.1442 18.327 10.3271C18.327 10.3656 17.3203 11.3379 15.4913 13.0675C13.9313 14.5405 12.6213 15.7824 12.5776 15.8273C12.5057 15.9075 12.5025 15.9396 12.3994 17.4382C12.3275 18.5164 12.3056 18.9978 12.3275 19.0587C12.3619 19.1646 12.4994 19.2416 12.5963 19.2096C12.6338 19.1999 13.0715 18.7796 13.5718 18.2789C14.072 17.7783 14.4909 17.3676 14.5034 17.3676C14.519 17.3676 15.26 17.9324 16.1479 18.6255C17.0358 19.3187 17.8142 19.9123 17.8736 19.9444C18.1112 20.0728 18.4551 19.9701 18.6208 19.7262C18.674 19.646 18.9522 18.3977 19.8432 14.2388C20.481 11.2769 21 8.80921 21 8.75787C21 8.56533 20.925 8.40167 20.7655 8.23801C20.5217 7.9845 20.2747 7.93958 19.9058 8.07435Z" fill="white"/>
          </svg>
          </a>
        </div>

        <BlockCallbackModal/>

      </nav>
      <div class="block md:hidden">
        <svg @click="menuActive = true" width="30" height="9" viewBox="0 0 30 9" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="30" height="2" rx="1" fill="#2C2C2C"/>
          <rect x="10" y="7" width="20" height="2" rx="1" fill="#2C2C2C"/>
        </svg>

      </div>
    </div>
  </div>
</header>
  <Drawer v-model:visible="menuActive" header=" " position="right">
    <div class="flex flex-col items-start gap-4">
      <NuxtLink :to="link.to" v-for="(link,index) in links" :key="index">{{link.label}}</NuxtLink>
      <div class="flex gap-3">
        <a href="tel:+79685458877" target="_blank"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="28" height="28" rx="7" fill="#EF7C00"/>
          <path d="M18.3245 15.4422C18.0354 15.167 17.6513 15.0138 17.2522 15.0144C16.853 15.0149 16.4694 15.1692 16.181 15.4452L15.2265 16.2497C14.4473 15.9272 13.7395 15.454 13.1438 14.8571C12.548 14.2603 12.076 13.5516 11.7548 12.7718L12.5561 11.82C12.8313 11.5309 12.9851 11.1472 12.9856 10.7481C12.9862 10.3489 12.8335 9.96481 12.5591 9.675C12.5591 9.675 11.6316 8.47126 11.616 8.45573C11.3303 8.16807 10.9429 8.0044 10.5375 8.00009C10.1321 7.99578 9.74128 8.15117 9.44948 8.43268L8.87354 8.93362C5.0077 13.0463 14.9836 23.0288 19.0903 19.1025L19.547 18.5766C19.8371 18.2855 20 17.8913 20 17.4803C20 17.0693 19.8371 16.6751 19.547 16.384C19.5305 16.3705 18.3245 15.4427 18.3245 15.4427V15.4422Z" fill="white"/>
        </svg>
        </a>
        <a href="https://t.me/texnoreal_company" target="_blank"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="28" height="28" rx="7" fill="#EF7C00"/>
          <path d="M19.9058 8.07435C19.7932 8.11607 16.8888 9.25847 13.453 10.6095C9.60127 12.1241 7.17521 13.0932 7.12832 13.1381C7.0314 13.2312 6.98138 13.4173 7.00639 13.5681C7.05641 13.8281 7.07204 13.8345 8.87596 14.4602C10.2516 14.9384 10.5298 15.025 10.5861 14.9962C10.6205 14.9737 11.0206 14.7266 11.4708 14.441C11.9242 14.1586 13.628 13.0868 15.26 12.0631C18.3051 10.1538 18.327 10.1442 18.327 10.3271C18.327 10.3656 17.3203 11.3379 15.4913 13.0675C13.9313 14.5405 12.6213 15.7824 12.5776 15.8273C12.5057 15.9075 12.5025 15.9396 12.3994 17.4382C12.3275 18.5164 12.3056 18.9978 12.3275 19.0587C12.3619 19.1646 12.4994 19.2416 12.5963 19.2096C12.6338 19.1999 13.0715 18.7796 13.5718 18.2789C14.072 17.7783 14.4909 17.3676 14.5034 17.3676C14.519 17.3676 15.26 17.9324 16.1479 18.6255C17.0358 19.3187 17.8142 19.9123 17.8736 19.9444C18.1112 20.0728 18.4551 19.9701 18.6208 19.7262C18.674 19.646 18.9522 18.3977 19.8432 14.2388C20.481 11.2769 21 8.80921 21 8.75787C21 8.56533 20.925 8.40167 20.7655 8.23801C20.5217 7.9845 20.2747 7.93958 19.9058 8.07435Z" fill="white"/>
        </svg>
        </a>
      </div>
      <BlockCallbackModal/>
    </div>


  </Drawer>
</template>

<style scoped>

</style>